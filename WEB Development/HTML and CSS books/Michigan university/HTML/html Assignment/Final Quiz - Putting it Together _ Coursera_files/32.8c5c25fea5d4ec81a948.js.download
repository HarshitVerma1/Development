(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"+Xf/":function(module,exports,e){},"/Srq":function(module,e,t){"use strict";var a=t("VbXa"),r=t.n(a),i=t("17x9"),n=t.n(i),s=t("sbe7"),o=t.n(s),d=t("8cuT"),l=t.n(d),u=t("VYij"),c=t.n(u),m=t("JsfK"),v=t("fAr5"),p=t("nLAy"),b=function(e){function PeerSubmissionFlagger(t,a){var r;return(r=e.call(this,t,a)||this).onClickButton=function(){r.setState({isModalOpen:!0})},r.onCloseModal=function(){r.setState({isModalOpen:!1})},r.onReportSubmission=function(e){var t=r.props,a=t.computedItem.id,i=t.courseId,n=t.submissionId;r.context.executeAction(p.a,{itemId:a,courseId:i,submissionId:n,report:e})},r.state={isModalOpen:!1},r}r()(PeerSubmissionFlagger,e);var t=PeerSubmissionFlagger.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){"flagging"===this.props.flagSubmissionState&&"flagged"===e.flagSubmissionState&&this.onCloseModal()},t.render=function render(){return o.a.createElement("div",{className:"rc-PeerSubmissionFlagger",style:{float:"right",paddingLeft:"8px"}},o.a.createElement(v.a,{onClick:this.onClickButton}),this.state.isModalOpen&&o.a.createElement(m.a,{onReportSubmission:this.onReportSubmission,onClose:this.onCloseModal,flagSubmissionState:this.props.flagSubmissionState,error:this.props.flagSubmissionError}))},PeerSubmissionFlagger}(o.a.Component);b.contextTypes={executeAction:n.a.func.isRequired},e.a=c.a.compose(l()(["PeerViewSubmissionStore"],function(e){var t=e.PeerViewSubmissionStore;return{flagSubmissionState:t.getState().flagSubmissionState,flagSubmissionError:t.getState().flagSubmissionError}}))(b)},"0HgF":function(module,e,t){"use strict";var a=t("VbXa"),r=t.n(a),i=t("sbe7"),n=t.n(i),s=t("+2ZD"),o=t("yhVA"),d=t.n(o),l=t("sQ/U"),u=t("5AUN"),c=t("gvD1"),m=t.n(c),v=function(e){function AdminDeletionConfirmModal(){for(var t,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).state={deleting:!1,deletionFailed:!1},t.handleRemoveGradeOverride=function(){t.setState({deleting:!0,deletionFailed:!1});var e=t.props,a=e.computedItem,r=e.courseId,i=e.submissionId,n;u.b({userId:l.a.get().id,itemId:a.id,courseId:r,submissionId:i}).then(function(e){t.props.handleDeleteSubmission(),t.props.handleClose()}).catch(function(e,a,r){t.setState({deletionFailed:!0,deleting:!1})})},t}var t;return r()(AdminDeletionConfirmModal,e),AdminDeletionConfirmModal.prototype.render=function render(){return n.a.createElement(s.a,{className:"rc-AdminDeletionConfirmModal",allowClose:!0,modalName:"AdminDeletionConfirmModal",type:"box",handleClose:this.props.handleClose},n.a.createElement("div",{className:"browser-alert-container horizontal-box align-items-absolute-center"},n.a.createElement("div",{className:"browser-alert"},d()("Browser Alert"))),n.a.createElement("div",null,n.a.createElement("div",{className:"confirm-question"},d()("Are you sure you want to delete this submission? This action cannot be reversed.")),n.a.createElement("div",{className:"horizontal-box align-items-absolute-center"},n.a.createElement("button",{className:"bt3-btn yes-button",onClick:this.handleRemoveGradeOverride},this.state.deleting?d()("Deleting"):d()("Yes")),n.a.createElement("button",{className:"bt3-btn",onClick:this.props.handleClose},d()("No")))),this.state.deletionFailed&&n.a.createElement("div",{className:"horizontal-box align-items-absolute-center"},d()("Can't delete now, please try again later"),"."))},AdminDeletionConfirmModal}(n.a.Component);e.a=v},"0Lal":function(module,exports,e){var t=e("Sja4"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},"0UBe":function(module,exports,e){var t=e("+Xf/"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},"0uOB":function(module,exports,e){},"1Ko7":function(module,exports,e){},"2O/4":function(module,e,t){"use strict";var a=t("VbXa"),r=t.n(a),i=t("sbe7"),n=t.n(i),s=t("kvW3"),o=t("yhVA"),d=t.n(o),l=function(e){function PlagiarismMessage(){return e.apply(this,arguments)||this}var t;return r()(PlagiarismMessage,e),PlagiarismMessage.prototype.render=function render(){return n.a.createElement("div",null,n.a.createElement("p",null,n.a.createElement(s.b,{message:d()("Plagiarism is unacceptable in any academic environment and is a serious violation\n              of Coursera's Honor Code. We have removed any credit toward your course grade that you may\n              have received for this assignment, and your grade has been permanently overridden to zero.")})),n.a.createElement("p",null,n.a.createElement(s.b,{message:d()("Our learners come from many different academic backgrounds, and many are unfamiliar\n              with the academic standard for plagiarism. We fully understand that this violation of our\n              policies may have been a simple mistake. If this is the case, we ask that you review\n              {guidelines}, and follow them when submitting future assignments. Failure to do so may\n              result in more serious consequences, including removal from a course or from the Coursera\n              community."),guidelines:n.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:"https://learner.coursera.help/hc/articles/209818863-Coursera-Honor-Code"},d()("these guidelines"))})))},PlagiarismMessage}(n.a.Component);e.a=l},"2dz7":function(module,exports,e){var t=e("nG9l"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},"3v1K":function(module,e,t){"use strict";t.d(e,"a",function(){return w});var a=t("VbXa"),r=t.n(a),i=t("17x9"),n=t.n(i),s=t("sbe7"),o=t.n(s),d=t("37kS"),l=t.n(d),u=t("eJMc"),c=t.n(u),m=t("YeA8"),v=t("0HgF"),p=t("kvW3"),b=t("Akn8"),g=t("sMNq"),h=t("7PCW"),f=t("Zz7k"),S=t("DnT3"),E=t.n(S),I=function(e){function PeerReviewAdminMessage(t,a){var r;return(r=e.call(this,t,a)||this).handleDeleteSubmission=function(){r.setState({isSubmissionDeleted:!0})},r.showOverrideTool=function(){r.setState({showOverrideTool:!0})},r.hideOverrideTool=function(){r.setState({showOverrideTool:!1})},r.showDeletionConfirm=function(){r.setState({showDeletionConfirm:!0})},r.hideDeletionConfirm=function(){r.setState({showDeletionConfirm:!1})},r.submitOverride=function(e,t){var a=r.props,i=a.computedItem,n=a.courseId;"loaded"===r.state.gradeOverrideDataState&&e>=0&&e<=100&&(r.setState({gradeOverrideDataState:"submittingOverride",gradeOverrideSubmittedOverride:{grade:e,explanation:t}}),g.a.updateOverride({learnerId:r.props.learnerId,courseId:n,itemId:i.id,grade:e/100,explanation:t}).then(function(){r.setState({gradeOverrideDataState:"loaded",gradeOverride:{grade:e,explanation:t},gradeOverrideSubmittedOverride:null,showOverrideTool:!1})}).catch(function(){r.setState({gradeOverrideDataState:"error",gradeOverrideSubmittedOverride:null})}))},r.removeOverride=function(){var e=r.props,t=e.computedItem,a=e.courseId;r.setState({gradeOverrideDataState:"removingOverride"}),g.a.removeOverride({learnerId:r.props.learnerId,courseId:a,itemId:t.id}).then(function(){r.setState({gradeOverrideDataState:"loaded",gradeOverride:null,showOverrideTool:!1})}).catch(function(){r.setState({gradeOverrideDataState:"error"})})},r.state={showOverrideTool:!1,showDeletionConfirm:!1,isSubmissionDeleted:t.isDeleted,gradeOverrideDataState:"idle",gradeOverride:null,gradeOverrideSubmittedOverride:null},r}r()(PeerReviewAdminMessage,e);var t=PeerReviewAdminMessage.prototype;return t.componentDidMount=function componentDidMount(){var e=this,t=this.props,a=t.computedItem,r=t.learnerId,i=t.courseId;this.setState({gradeOverrideDataState:"loading"}),g.a.getOverride({learnerId:r,courseId:i,itemId:a.id}).then(function(t){var a=t.elements[0],r=t.linked["userPublicProfiles.v1"][0],i=r&&r.fullName?r.fullName:"Anonymous";e.setState({gradeOverrideDataState:"loaded",gradeOverride:{grade:100*a.grade,isPassed:a.isPassed,explanation:a.explanation,overriderName:i}})}).catch(function(t){404===t.status?e.setState({gradeOverrideDataState:"loaded"}):e.setState({gradeOverrideDataState:"error"})})},t.renderGradeOverriddenMessage=function renderGradeOverriddenMessage(e){var t=l()("The grade for this submission has been adjusted to be passing at {gradePercent}\n        by {overriderName}."),a=l()("The grade for this submission has been adjusted to be not passing at {gradePercent}\n        by {overriderName}.");return o.a.createElement("strong",null,o.a.createElement(p.b,{message:e.isPassed?t:a,gradePercent:o.a.createElement(p.c,{value:e.grade/100,style:"percent"}),overriderName:e.overriderName}))},t.renderOverrideMessage=function renderOverrideMessage(e,t){var a=this,r=l()("adjust the grade"),i=l()("adjust the grade again"),n=function renderOverrideToolLink(e){return o.a.createElement("span",{className:"admin-action",onClick:a.showOverrideTool},e)},s=o.a.createElement("span",{className:"admin-action",onClick:this.showDeletionConfirm},l()("delete the submission"));return e?t?o.a.createElement("div",null,this.renderGradeOverriddenMessage(e)," ","",l()("You may")," ",n(i),"."):o.a.createElement("div",null,this.renderGradeOverriddenMessage(e)," ","",l()("You may")," ",n(i)," or ","",s,"."):t?o.a.createElement("div",null,l()("Even though it has been deleted, as an administrator, you may")," ","",n(r)," ",l()("attributed to it"),"."):o.a.createElement("div",null,l()("As an administrator, you may")," ","",n(r)," or ",s,".")},t.renderAdminBox=function renderAdminBox(e){var t=o.a.createElement("div",null,o.a.createElement("span",{className:"bold-text"},l()("This submission was deleted. It is not available for other learners to review."))),a=this.context.router.location.pathname,r=b.a.join(a.split("/").slice(0,-1)),i=o.a.createElement("div",null,l()("To leave a review"),", ","",o.a.createElement(c.a,{to:r},l()("view this submission as a learner")),".");switch(this.state.gradeOverrideDataState){case"idle":case"loading":return o.a.createElement("div",null,l()("Loading..."));case"error":return o.a.createElement("div",null,l()("Error loading grade override information."));default:return o.a.createElement("div",null,this.state.isSubmissionDeleted&&t,this.renderOverrideMessage(e,this.state.isSubmissionDeleted),!this.state.isSubmissionDeleted&&i)}},t.render=function render(){var e=this.props,t=e.computedItem,a=e.courseId,r="submittingOverride"===this.state.gradeOverrideDataState?this.state.gradeOverrideSubmittedOverride:this.state.gradeOverride;return o.a.createElement("div",{className:"rc-PeerReviewAdminMessage bt3-alert"},o.a.createElement("div",{className:"horizontal-box"},o.a.createElement("div",{className:"kss-modifier--icon admin-warning-outer"},o.a.createElement("span",{className:"cif-warning admin-warning"})),o.a.createElement("div",{className:"flex-1"},this.renderAdminBox(r))),this.state.showOverrideTool&&o.a.createElement(m.a,{handleClose:this.hideOverrideTool,gradeOverrideDataState:this.state.gradeOverrideDataState,gradeOverride:r,submitOverride:this.submitOverride,removeOverride:this.removeOverride,computedItem:t}),this.state.showDeletionConfirm&&o.a.createElement(v.a,{courseId:a,handleClose:this.hideDeletionConfirm,computedItem:t,submissionId:this.props.submissionId,handleDeleteSubmission:this.handleDeleteSubmission}))},PeerReviewAdminMessage}(o.a.Component);I.propTypes={courseId:n.a.string.isRequired,computedItem:n.a.object.isRequired,isDeleted:n.a.bool,submissionId:n.a.string.isRequired,learnerId:n.a.number},I.contextTypes={router:n.a.object.isRequired};var w=function(e){function PeerReviewAdminMessageWithPermissions(){return e.apply(this,arguments)||this}var t;return r()(PeerReviewAdminMessageWithPermissions,e),PeerReviewAdminMessageWithPermissions.prototype.render=function render(){return o.a.createElement(h.a,{requestedCapability:f.e.reviewMentorGraded},o.a.createElement(I,this.props))},PeerReviewAdminMessageWithPermissions}(o.a.Component)},"7Htd":function(module,exports,e){},"8IbN":function(module,e,t){"use strict";var a=t("VbXa"),r=t.n(a),i=t("17x9"),n=t.n(i),s=t("sbe7"),o=t.n(s),d=t("yhVA"),l=t.n(d),u=t("Akn8"),c=t("7PCW"),m=t("Zz7k"),v=function(e){function ViewAsAdminButton(){return e.apply(this,arguments)||this}var t;return r()(ViewAsAdminButton,e),ViewAsAdminButton.prototype.render=function render(){return o.a.createElement(c.a,{requestedCapability:m.e.reviewMentorGraded},o.a.createElement("a",{href:this.context.router.location.pathname.indexOf("/review/")>-1?u.a.join(this.props.submissionId,"admin"):u.a.join("review",this.props.submissionId,"admin"),className:"link-button primary"},l()("View as Admin")))},ViewAsAdminButton}(o.a.Component);v.propTypes={submissionId:n.a.string},v.contextTypes={router:n.a.object},e.a=v},"9bdB":function(module,e,t){"use strict";var a=t("sbe7"),r=t.n(a),i=function AssignmentSuccessMessage(e){var t=e.children;return r.a.createElement("div",{className:"rc-AssignmentSuccessMessage horizontal-box flex-1 bgcolor-success-light color-success-dark",style:{margin:"12px 0px",padding:16}},t)};e.a=i},AMJS:function(module,e,t){"use strict";var a=t("VbXa"),r=t.n(a),i=t("sbe7"),n=t.n(i),s=t("17x9"),o=t.n(s),d=t("8cuT"),l=t.n(d),u=t("1Vhl"),c=t("QRlR"),m=t("2O/4"),v=t("6gRZ"),p=t.n(v),b=t("yhVA"),g=t.n(b),h=t("2dz7"),f=t.n(h),S=function(e){function AdminViewGradeOverride(t){var a;if((a=e.call(this,t)||this).handleGradeInputChange=function(e){a.setState({grade:e})},a.handleExplanationChange=function(e){a.setState({isForPlagiarism:"Plagiarism"===e.target.value})},a.handleCustomExplanationChange=function(e){a.setState({customExplanation:e.target.value})},a.submitOverride=function(){var e=a.state.isForPlagiarism?"Plagiarism":a.state.customExplanation;a.props.submitOverride(a.state.grade,e)},a.props.gradeOverride){var r="Plagiarism"===a.props.gradeOverride.explanation,i=r?"":a.props.gradeOverride.explanation;a.state={grade:a.props.gradeOverride.grade,isForPlagiarism:r,customExplanation:i}}else a.state={grade:0,isForPlagiarism:!0,customExplanation:""};return a}r()(AdminViewGradeOverride,e);var t=AdminViewGradeOverride.prototype;return t.isInputEnabled=function isInputEnabled(){return"loaded"===this.props.gradeOverrideDataState},t.renderNoteForPlagiarism=function renderNoteForPlagiarism(){return n.a.createElement("div",{className:"details"},n.a.createElement("div",{className:"learners-note"},g()("Learners will see this message:")),n.a.createElement(m.a,null))},t.renderNoteForOtherReason=function renderNoteForOtherReason(){var e=!this.isInputEnabled();return n.a.createElement("div",{className:"details"},n.a.createElement("div",{className:"learners-note"},g()("Learners will see this message:")),n.a.createElement("div",null,n.a.createElement("textarea",{className:"explanation",onChange:this.handleCustomExplanationChange,disabled:e,value:this.state.customExplanation})))},t.renderMainContent=function renderMainContent(){var e=this.props,t=e.branchId,a=e.itemId,r=n.a.createElement(v.Tooltip,{className:"rc-AdminViewGradeOverride-button-revert-tooltip"},g()("Restore original grade. Any admin overrides will be removed.")),i=!this.isInputEnabled();return n.a.createElement("div",{className:"authoring-type"},n.a.createElement("div",{className:"horizontal-box input-row"},n.a.createElement("div",{className:"input-label"},g()("Score")),n.a.createElement("div",{className:"flex-1"},n.a.createElement(u.a,{initialValue:this.state.grade,min:0,max:100,width:50,height:35,allowDecimal:!1,allowNegative:!1,onChange:this.handleGradeInputChange,disabled:i}),"%",n.a.createElement("div",{className:"details passing-threshold"},g()("Passing Threshold:"),"   ",n.a.createElement(c.a,{courseBranchId:t,itemId:a})),(this.state.grade<0||this.state.grade>100)&&n.a.createElement("span",{className:"alertMessageMargin"},g()("Grade needs to be a number in between 0 and 100, inclusive.")))),n.a.createElement("div",{className:"horizontal-box input-row"},n.a.createElement("div",{className:"input-label"},g()("Reason:")),n.a.createElement("div",{className:"flex-1"},n.a.createElement("div",{className:"horizontal-box"},n.a.createElement("input",{id:"rc-AdminViewGradeOverride-plagiarism",name:"explanation",type:"radio",value:"Plagiarism",className:"option-radio",onChange:this.handleExplanationChange,checked:this.state.isForPlagiarism,disabled:i}),n.a.createElement("label",{htmlFor:"rc-AdminViewGradeOverride-plagiarism",className:"label-radio"}),n.a.createElement("div",{className:"radioPadding flex-1"},n.a.createElement("span",null,g()("Plagiarism")),this.state.isForPlagiarism&&this.renderNoteForPlagiarism())),n.a.createElement("div",{className:"horizontal-box"},n.a.createElement("input",{id:"rc-AdminViewGradeOverride-other",name:"explanation",type:"radio",value:"Other",className:"option-radio",onChange:this.handleExplanationChange,checked:!this.state.isForPlagiarism,disabled:i}),n.a.createElement("label",{htmlFor:"rc-AdminViewGradeOverride-other",className:"label-radio"}),n.a.createElement("div",{className:"radioPadding flex-1"},n.a.createElement("span",null,g()("Other")),!this.state.isForPlagiarism&&this.renderNoteForOtherReason())))),n.a.createElement("div",{className:"horizontal-box align-items-right"},!!this.props.gradeOverride&&n.a.createElement(v.OverlayTrigger,{placement:"bottom",overlay:r,delayShow:0},n.a.createElement("button",{className:"bt3-btn",onClick:this.props.removeOverride,disabled:i},"removingOverride"===this.props.gradeOverrideDataState?g()("Reverting..."):g()("Revert"))),n.a.createElement("div",{className:"horizontal-box flex-1 align-items-right"},n.a.createElement("button",{className:"bt3-btn bt3-btn-primary button-save",onClick:this.submitOverride,disabled:i},"submittingOverride"===this.props.gradeOverrideDataState?g()("Saving..."):g()("Save")))),n.a.createElement("div",{className:"horizontal-box align-items-right"},"error"===this.props.gradeOverrideDataState&&n.a.createElement("span",null,g()("Problem connecting to server. Try again later."))))},t.render=function render(){return n.a.createElement("div",{className:"rc-AdminViewGradeOverride"},n.a.createElement("h3",null,g()("Override Grade")),this.state.loadingData&&n.a.createElement("div",null,g()("Loading"),"..."),!this.state.loadingData&&this.renderMainContent())},AdminViewGradeOverride}(n.a.Component);S.propTypes={gradeOverrideDataState:o.a.string.isRequired,gradeOverride:o.a.object,submitOverride:o.a.func,removeOverride:o.a.func,branchId:o.a.string,itemId:o.a.string},e.a=l()(["SessionStore"],function(e){var t;return{branchId:e.SessionStore.getBranchId()}})(S)},BUkX:function(module,e,t){"use strict";t.d(e,"b",function(){return l}),t.d(e,"a",function(){return u});var a=t("jn80"),r=t("E4RX"),i=t("StP4"),n=t("Nher"),s=t("uhR6"),o=function onSubmitSuccess(e,t,a,o,d){return function(){e.executeAction(r.a,{courseId:o,refreshProgress:!0}),e.dispatch(s.a.REVIEW_SUBMISSION_SUBMITTED,{submissionId:t}),e.executeAction(n.b,{courseId:o}),e.executeAction(i.b,{courseSlug:d,refetch:!0})}},d=function onSubmitFailure(e,t){return function(a){var r=a.responseJSON||{};if("InvalidReview"===r.errorCode)e.dispatch(s.a.REVIEW_SUBMISSION_SUBMIT_ERROR,{submissionId:t,errorType:"invalid-review",reviewValidationErrors:r.details});else if("ReviewExists"===r.errorCode)e.dispatch(s.a.REVIEW_SUBMISSION_SUBMIT_ERROR,{submissionId:t,errorType:"review-exists"});else if(e.dispatch(s.a.REVIEW_SUBMISSION_SUBMIT_ERROR,{submissionId:t,errorType:"unknown"}),!a.responseJSON)throw a}},l=function submit(e,t){var r=t.itemId,i=t.submissionId,n=t.review,l=t.userId,u=t.courseId,c=t.courseSlug;return e.dispatch(s.a.REVIEW_SUBMISSION_SUBMITTING,{submissionId:i}),Object(a.a)(u,r,i,n).then(o(e,i,l,u,c)).catch(d(e,i))},u=function localUpdateReview(e,t){var a=t.submissionId,r=t.reviewSchemaPartId,i=t.change;e.dispatch(s.a.REVIEW_SUBMISSION_LOCAL_UPDATE_REVIEW,{submissionId:a,reviewSchemaPartId:r,change:i})}},D0TD:function(module,e,t){"use strict";var a=t("VbXa"),r=t.n(a),i=t("sbe7"),n=t.n(i),s=t("6xos"),o=t("OB1k"),d=t("/Srq"),l=t("kr0o"),u=t("qPyB"),c=t("sQ/U"),m=t("8cuT"),v=t.n(m),p=function(e){function SubmissionHeader(){return e.apply(this,arguments)||this}var t;return r()(SubmissionHeader,e),SubmissionHeader.prototype.render=function render(){var e=this.props,t=e.isAdminMode,a=e.computedItem,r=e.submission,i=e.creatorProfile,m=e.votes,v=e.courseId,p=i.userId,b;return c.a.get().id===p?n.a.createElement(s.a,{title:r.definition.title,createdAt:r.createdAt,shareableLink:n.a.createElement(u.a,{computedItem:a,submissionId:r.id})}):n.a.createElement(o.a,{isAdminMode:t,title:r.definition.title,createdAt:r.createdAt,creatorProfile:i,submissionId:r.id,reviewMetadata:n.a.createElement("div",null,n.a.createElement(d.a,{courseId:v,computedItem:a,submissionId:r.id}),n.a.createElement(l.a,{courseId:v,computedItem:a,submissionId:r.id,votes:m}))})},SubmissionHeader}(n.a.Component);e.a=v()(["CourseStore"],function(e){var t;return{courseId:e.CourseStore.getCourseId()}})(p)},DnT3:function(module,exports,e){var t=e("0uOB"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},JsfK:function(module,e,t){"use strict";var a=t("VbXa"),r=t.n(a),i=t("17x9"),n=t.n(i),s=t("sbe7"),o=t.n(s),d=t("w/1P"),l=t.n(d),u=t("VYij"),c=t.n(u),m=t("kvW3"),v=t("+2ZD"),p=t("eJW0"),b=t.n(p),g=t("0Lal"),h=t.n(g),f=[{value:"incompleteSubmission",label:b()("The submission is incomplete")},{value:"inappropriateContent",label:b()("The submission contains inappropriate content")},{value:"plagiarism",label:b()("The submission contains plagiarized content")},{value:"other",label:b()("Other (please provide details below)")}],S=function(e){function SubmissionFlaggerModal(t,a){var r;return(r=e.call(this,t,a)||this).onEvidenceChange=function(e){e.target instanceof HTMLTextAreaElement&&r.setState({evidence:e.target.value})},r.onReasonChange=function(e){if(e.target instanceof HTMLSelectElement){var t=e.target.value,a=c()(f).find(function(e){return e.value===t});a&&r.setState({selectedReason:a.value})}},r.onSendReportButtonClick=function(e){e.preventDefault(),r.props.onReportSubmission({reason:r.state.selectedReason,evidence:r.state.evidence})},r.state={selectedReason:t.defaultReason,evidence:""},r}var t;return r()(SubmissionFlaggerModal,e),SubmissionFlaggerModal.prototype.render=function render(){var e=this.state.selectedReason,t=this.props,a=t.reasons,r=t.error,i=t.flagSubmissionState,n=l()("bt3-btn bt3-btn-warning c-modal-action-button",{"bt3-disabled":"flagging"===i});return o.a.createElement(v.a,{modalName:"SubmissionFlaggerModal",handleClose:this.props.onClose},o.a.createElement("div",{className:"rc-SubmissionFlaggerModal"},o.a.createElement("h3",{className:"c-modal-title subtitle"},b()("Flag this submission")),o.a.createElement("div",null,r&&r.responseJSON&&o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement(m.b,{message:b()("An error occurred submitting your report: #{errorMessage}"),errorMessage:r.responseJSON}))),o.a.createElement("div",null,o.a.createElement("form",null,o.a.createElement("div",{className:"field-container"},o.a.createElement("label",{htmlFor:"reason-selection"},b()("Select a reason:")),o.a.createElement("select",{id:"reason-selection",className:"field",disabled:"flagging"===i,value:e,onChange:this.onReasonChange},a.map(function(e){return o.a.createElement("option",{key:e.value,value:e.value},e.label)}))),o.a.createElement("div",{className:"field-container"},o.a.createElement("label",{htmlFor:"reason-field"},b()("Please explain or provide evidence below:")),o.a.createElement("textarea",{id:"reason-field",onChange:this.onEvidenceChange,className:"field",disabled:"flagging"===i})),o.a.createElement("div",{className:"c-modal-action-bar"},"flagging"===i&&o.a.createElement("span",null,b()("Submitting report...")),o.a.createElement("button",{className:n,onClick:this.onSendReportButtonClick},b()("Send report"))))))))},SubmissionFlaggerModal}(o.a.Component);S.propTypes={error:n.a.object,onClose:n.a.func.isRequired,onReportSubmission:n.a.func.isRequired,defaultReason:n.a.string.isRequired,reasons:n.a.arrayOf(n.a.object).isRequired,flagSubmissionState:n.a.string.isRequired},S.defaultProps={defaultReason:"incompleteSubmission",reasons:f},e.a=S},OB1k:function(module,e,t){"use strict";var a=t("VbXa"),r=t.n(a),i=t("17x9"),n=t.n(i),s=t("sbe7"),o=t.n(s),d=t("BN6r"),l=t.n(d),u=t("at5l"),c=t("8IbN"),m=t("kvW3"),v=t("0jv7"),p=t("yhVA"),b=t.n(p),g=t("b3MV"),h=t.n(g),f=function(e){function PeerSubmissionHeader(){return e.apply(this,arguments)||this}var t;return r()(PeerSubmissionHeader,e),PeerSubmissionHeader.prototype.render=function render(){var e=this.props,t=e.isAdminMode,a=e.title,r=e.createdAt,i=e.creatorProfile,n=e.submissionId,s=i.photoUrl||v.c;return o.a.createElement("div",{className:"rc-PeerSubmissionHeader bt3-clearfix"},!t&&o.a.createElement("div",{className:"bt3-pull-right"},o.a.createElement(c.a,{submissionId:n})),o.a.createElement("div",{className:"headline-4-text"},a),o.a.createElement("div",{className:"author-container horizontal-box"},o.a.createElement(u.a,{alt:b()("Photo of learner"),src:s}),o.a.createElement("div",{className:"metadata-area"},o.a.createElement("div",null,o.a.createElement(m.b,{className:"display-1-text pii-hide",message:b()("by {creatorName}"),creatorName:i.fullName})),o.a.createElement("div",null,o.a.createElement("span",{className:"caption-text color-secondary-text"},l()(r).format("LL")),t&&o.a.createElement("span",{className:"caption-text color-secondary-text",style:{marginLeft:12}},o.a.createElement(m.b,{className:"caption-text color-secondary-text",message:b()("User Id: {userId}"),userId:i.userId})))),o.a.createElement("div",{className:"actions-area align-right align-self-end flex-1"},this.props.reviewMetadata)))},PeerSubmissionHeader}(o.a.Component);f.propTypes={isAdminMode:n.a.bool.isRequired,title:n.a.string.isRequired,createdAt:n.a.number.isRequired,creatorProfile:n.a.object.isRequired,submissionId:n.a.string.isRequired,reviewMetadata:n.a.node.isRequired},e.a=f},QRlR:function(module,e,t){"use strict";var a=t("MVZn"),r=t.n(a),i=t("VkAN"),n=t.n(i),s=t("sbe7"),o=t.n(s),d=t("w/1P"),l=t.n(d),u=t("PDuk"),c=t.n(u),m=t("lTCR"),v=t.n(m),p=t("oJmH"),b=t.n(p),g=t("zn7j"),h=t.n(g);function _templateObject(){var e=n()(["\n  query OnDemandCourseGradeItemPassingFractionsV1Query($branchItemId: String!) {\n    OnDemandCourseGradeItemPassingFractionsV1 @naptime {\n      get(id: $branchItemId) {\n        elements {\n          id\n          passingFraction\n        }\n      }\n    }\n  }\n"]);return _templateObject=function _templateObject(){return e},e}var f=function PassingThreshold(e){var t=e.loading,a=e.passingFraction,r=e.className;return o.a.createElement("div",{className:l()("rc-PassingThreshold","v2",r)},t?o.a.createElement("div",{className:"placeholder"}):"".concat(100*(a||0),"%"))},S=v()(_templateObject()),E=Object(p.graphql)(S,{options:function options(e){return{variables:{branchItemId:Object(u.tupleToStringKey)([e.courseBranchId,e.itemId])}}},props:function props(e){var t=e.data,a=e.ownProps,i=t||{},n=i.loading,s=i.OnDemandCourseGradeItemPassingFractionsV1,o,d=(s&&s.get&&s.get.elements&&s.get.elements[0]||{}).passingFraction;return r()({},a,{loading:n,passingFraction:d})}});e.a=E(f)},Ru1s:function(module,e,t){"use strict";t.r(e),t.d(e,"comp",function(){return N}),t.d(e,"fluxibleContextConnector",function(){return P});var a=t("VbXa"),r=t.n(a),i=t("17x9"),n=t.n(i),s=t("sbe7"),o=t.n(s),d=t("8cuT"),l=t.n(d),u=t("VYij"),c=t.n(u),m=t("Akn8"),v=t("BUkX"),p=t("nLAy"),b=t("svVW"),g=t("1G4o"),h=t("L1vm"),f=t("dAof"),S=t("jsrg"),E=t("VMeS"),I=t("yhVA"),w=t.n(I),O=t("sQ/U"),y=function(e){function PeerItemReviewNext(t,a){var r;return(r=e.call(this,t,a)||this).handleReviewChange=function(e){return function(t){r.context.executeAction(v.a,{reviewSchemaPartId:e,change:t,submissionId:r.props.submissionId})}},r.handleReviewSubmit=function(){var e=r.props,t=e.computedItem,a=e.reviewSubmissionState,i=e.submissionId,n=e.courseId;r.setState({loadNextSubmission:!0}),a&&a.review&&r.context.executeAction(v.b,{itemId:t.id,review:a.review,submissionId:i,userId:O.a.get().id,courseId:n})},r.state={loadNextSubmission:!1},r}r()(PeerItemReviewNext,e);var t=PeerItemReviewNext.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props,a=t.computedItem,r=t.courseId,i;e.reviewSubmissionState&&"submitted"===e.reviewSubmissionState.submitState&&this.state.loadNextSubmission?(this.setState({loadNextSubmission:!1}),this.context.executeAction(p.c,{userId:O.a.get().id,courseId:r,itemId:a.id})):"loading"===this.props.loadState&&"none"===e.loadState&&this.context.router.push(m.a.join(a.resourcePath,"give-feedback"))},t.render=function render(){var e=this.props,t=e.loadState,a=e.submissionAndRelated,r=e.canReviewOthers,i=e.naptimeSubmission,n=e.naptimeSubmissionSchema,s=e.computedItem,d=e.courseId;if(!r)return o.a.createElement(g.a,{computedItem:s});if("loading"===t||"none"===t)return o.a.createElement("p",null,w()("Loading..."));if("loadError"===t)return o.a.createElement("p",null,w()("Error loading submission."));if("loaded"===t&&null!=a){var l=this.props,u=l.reviewSubmissionState,c=l.flaggedPreviousSubmission;return o.a.createElement(b.a,{courseId:d,computedItem:s,submission:a.submission,submissionSchema:a.submissionSchema,naptimeSubmission:i,naptimeSubmissionSchema:n,reviewSubmissionState:u,createdAt:a.submission.createdAt,creatorProfile:a.userProfiles[0],onReviewChange:this.handleReviewChange,onReviewSubmit:this.handleReviewSubmit,flaggedPreviousSubmission:c,isAdminMode:!1,isDeleted:a.isDeleted,votes:a.votes})}return null},PeerItemReviewNext}(o.a.Component);y.contextTypes={executeAction:n.a.func.isRequired,router:n.a.object.isRequired};var P=function fluxibleContextConnector(e,t){var a=t.computedItem,r=t.courseId,i=t.canReviewOthers,n=t.isOwnSubmission,s=t.loadState;i&&(n||"loaded"!==s)&&e.executeAction(p.c,{userId:O.a.get().id,courseId:r,itemId:a.id})},x=c.a.compose(h.a.createTrackedContainer(function(){return{namespace:{page:"peer_review_review_peers_detail"}}}),l()(["PeerViewSubmissionStore","PeerPermissionsAndProgressesStore"],function(e,t){var a=e.PeerViewSubmissionStore,r=e.PeerPermissionsAndProgressesStore;return{loadState:a.getState().loadState,havePermissionsLoaded:"loaded"===r.getState().loadState,reviewSubmissionState:a.getState().reviewSubmissionState,submissionAndRelated:a.getState().submissionAndRelated,naptimeSubmission:a.getState().naptimeSubmission,naptimeSubmissionSchema:a.getState().naptimeSubmissionSchema,submissionId:a.getState().submissionId,flaggedPreviousSubmission:a.getState().flaggedPreviousSubmission,canReviewOthers:c()(r.getState().capabilities||[]).contains("reviewPeers"),isOwnSubmission:a.getState().isOwnSubmission}}),Object(S.a)(function(e){return e.havePermissionsLoaded},o.a.createElement(E.a,{className:"rc-PeerItemReviewNext"})),Object(f.a)(P))(y);e.default=x;var N=y},Sja4:function(module,exports,e){},WdxC:function(module,exports,e){},Xb7y:function(module,e,t){"use strict";var a=t("VbXa"),r=t.n(a),i=t("17x9"),n=t.n(i),s=t("sbe7"),o=t.n(s),d=t("IDuc"),l=t("7PCW"),u=t("Zz7k"),c=t("37kS"),m=t.n(c),v=t("0UBe"),p=t.n(v),b=function FormError(e){var t;switch(e.errorType){case"invalid-review":return o.a.createElement("span",null,m()("You must fill in all the fields above."));case"review-exists":return o.a.createElement("span",null,m()('\n            You have already reviewed this submission. Click the "Review classmates" tab to get another\n            submission.\n          '));case"unknown":return o.a.createElement("span",null,m()("Error submitting. Please try again."));default:return o.a.createElement("noscript",null)}},g=function(e){function FormSubmit(){return e.apply(this,arguments)||this}var t;return r()(FormSubmit,e),FormSubmit.prototype.render=function render(){if(!this.props.reviewEditable)return null;var e=o.a.createElement("div",{className:"rc-FormSubmit"},o.a.createElement("div",null,o.a.createElement(d.a,{className:"primary",onClick:this.props.onSubmit,disabled:this.props.disabled,trackingName:"submit"},m()("Submit Review"))),o.a.createElement("div",null,o.a.createElement(b,{errorType:this.props.errorType})));return this.props.isMentorGraded?o.a.createElement(l.a,{requestedCapability:u.e.reviewMentorGraded},e):e},FormSubmit}(o.a.Component);g.propTypes={errorType:n.a.oneOf(["none","invalid-review","unknown"]).isRequired,disabled:n.a.bool.isRequired,reviewEditable:n.a.bool.isRequired,onSubmit:n.a.func.isRequired,isMentorGraded:n.a.bool},e.a=g},"Y08+":function(module,exports,e){var t=e("7Htd"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},YeA8:function(module,e,t){"use strict";var a=t("VbXa"),r=t.n(a),i=t("sbe7"),n=t.n(i),s=t("17x9"),o=t.n(s),d=t("+2ZD"),l=t("AMJS"),u=t("ya0v"),c=t.n(u),m=function(e){function AdminViewGradeOverrideModal(){return e.apply(this,arguments)||this}var t;return r()(AdminViewGradeOverrideModal,e),AdminViewGradeOverrideModal.prototype.render=function render(){var e=this.props,t=e.computedItem,a=e.handleClose,r=e.gradeOverrideDataState,i=e.gradeOverride,s=e.submitOverride,o=e.removeOverride;return n.a.createElement(d.a,{className:"rc-AdminViewGradeOverrideModal",allowClose:!0,modalName:"AdminViewGradeOverrideModal",type:"box",handleClose:a},n.a.createElement(l.a,{gradeOverrideDataState:r,gradeOverride:i,submitOverride:s,removeOverride:o,itemId:t.id}))},AdminViewGradeOverrideModal}(n.a.Component);m.propTypes={handleClose:o.a.func,gradeOverrideDataState:o.a.string.isRequired,gradeOverride:o.a.object,submitOverride:o.a.func,removeOverride:o.a.func,computedItem:o.a.object},e.a=m},b3MV:function(module,exports,e){var t=e("1Ko7"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},fAr5:function(module,e,t){"use strict";var a=t("sbe7"),r=t.n(a),i=t("y1LI"),n=t("yhVA"),s=t.n(n),o=function SubmissionFlaggerButton(e){var t=e.onClick;return r.a.createElement("button",{className:"rc-SubmissionFlaggerButton button-link",onClick:t},r.a.createElement("span",{className:"caption-text"},r.a.createElement(i.a,{name:"flag-o"}),r.a.createElement("span",{style:{paddingLeft:8}},s()("Flag this submission"))))};e.a=o},gvD1:function(module,exports,e){var t=e("nGPm"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},jn80:function(module,e,t){"use strict";t.d(e,"a",function(){return s});var a=t("wiyT"),r=t.n(a),i=t("DnuM"),n=Object(i.a)("/api/onDemandPeerAuthoredReviews.v1",{type:"rest"}),s=function createReview(e,t,a,i){return r()(n.post("",{data:{peerSubmissionId:"".concat(e,"~").concat(t,"~").concat(a),review:i}}))}},kr0o:function(module,e,t){"use strict";var a=t("VbXa"),r=t.n(a),i=t("17x9"),n=t.n(i),s=t("sbe7"),o=t.n(s),d=t("y1LI"),l=t("kvW3"),u=t("IDuc"),c=t("nLAy"),m=t("yhVA"),v=t.n(m),p=t("Y08+"),b=t.n(p),g=function(e){function SubmissionLikeButton(){for(var t,a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).toggleLike=function(){var e=t.props,a=e.computedItem.id,r=e.courseId,i=e.submissionId,n;e.votes.isUpvotedByUser?t.context.executeAction(c.e,{itemId:a,courseId:r,submissionId:i}):t.context.executeAction(c.b,{itemId:a,courseId:r,submissionId:i})},t}var t;return r()(SubmissionLikeButton,e),SubmissionLikeButton.prototype.render=function render(){var e=this.props.votes,t=v()("like"),a="heart-o";return e.upVotes>0&&(t=o.a.createElement(l.a,{message:v()("{likeCount} {likeCount, plural, =1 {like} other {likes}}"),likeCount:e.upVotes})),e.isUpvotedByUser&&(a="heart"),o.a.createElement("div",{className:"rc-SubmissionLikeButton"},o.a.createElement(u.a,{className:"button-link",onClick:this.toggleLike,trackingName:"like",data:{unlike:e.isUpvotedByUser}},o.a.createElement("span",{className:"caption-text"},o.a.createElement(d.a,{name:a,className:"like-heart"}),t)))},SubmissionLikeButton}(o.a.Component);g.contextTypes={executeAction:n.a.func.isRequired},e.a=g},nG9l:function(module,exports,e){},nGPm:function(module,exports,e){},sMNq:function(module,e,t){"use strict";var a=t("wiyT"),r=t.n(a),i=t("DnuM"),n=t("PDuk"),s=t.n(n),o=Object(i.a)("",{type:"rest"}),d="/api/onDemandCourseGradeItemOutcomeOverrides.v1/";e.a={getOverride:function getOverride(e){var t=s.a.tupleToStringKey([e.learnerId.toString(),e.courseId,e.itemId]),a,i=d+t+"?fields=grade,isPassed,explanation,userPublicProfiles.v1(fullName)&includes=publicProfiles";return r()(o.get(i))},updateOverride:function updateOverride(e){var t=s.a.tupleToStringKey([e.learnerId.toString(),e.courseId,e.itemId]),a=d+t;return r()(o.put(a,{data:{grade:e.grade,isPassed:e.isPassed,explanation:e.explanation}}))},removeOverride:function removeOverride(e){var t=s.a.tupleToStringKey([e.learnerId.toString(),e.courseId,e.itemId]),a=d+t;return r()(o.delete(a))}}},svVW:function(module,e,t){"use strict";var a=t("VbXa"),r=t.n(a),i=t("hbUA"),n=t("sbe7"),s=t.n(n),o=t("UZuA"),d=t("9bdB"),l=t("C2np"),u=t("onZ3"),c=t("7Diq"),m=t("Xb7y"),v=t("sQ/U"),p=t("9kyQ"),b=t("D0TD"),g=t("3v1K"),h=t("yhVA"),f=t.n(h),S=function(e){function PeerPublicSubmissionView(){for(var t,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(t=e.call.apply(e,[this].concat(r))||this).renderFormParts=function(e){var a=t.props,r=a.reviewSubmissionState,n=a.isAdminMode,o=a.computedItem,d=a.submission,l=a.onReviewChange,m=r.backboneReviewSchema,v=r.review,p;if(0===m.getPartsForSubmissionSchemaPart(e).length)return null;return t.showDisplayPartsOnly()?s.a.createElement(c.a,{reviewSchema:m,reviews:t.getReviews(),submissionSchemaPartId:e,submissionId:d.id}):null!=v?s.a.createElement(u.a,{disabled:t.isFormDisabled(),reviewSchema:m,review:v.parts,submissionSchemaPartId:e,onChange:l,isMentorGraded:Object(i.p)(o)||n,submissionId:d.id,reviewValidationErrors:r.reviewValidationErrors}):null},t.renderAdminMessage=function(){var e=t.props,a=e.courseId,r=e.isAdminMode,i=e.computedItem,n=e.submission,o=e.isDeleted,d=e.creatorProfile;return r?s.a.createElement(g.a,{courseId:a,computedItem:i,submissionId:n.id,isDeleted:o,learnerId:d.userId}):s.a.createElement("noscript",null)},t}r()(PeerPublicSubmissionView,e);var t=PeerPublicSubmissionView.prototype;return t.getReviews=function getReviews(){var e=this.props,t=e.isAdminMode,a,r=e.reviewSubmissionState.backboneReviews;if(t)return r;return[]},t.showDisplayPartsOnly=function showDisplayPartsOnly(){var e=this.props,t=e.isAdminMode,a=e.creatorProfile.userId;return t||a===v.a.get().id},t.isFormDisabled=function isFormDisabled(){var e=this.props.reviewSubmissionState.submitState;return"submitting"===e||"submitted"===e},t.render=function render(){var e=this.props,t=e.computedItem,a=e.submission,r=e.reviewSubmissionState,n=e.isAdminMode,u=e.flaggedPreviousSubmission,c=e.isDeleted,v=e.creatorProfile,g=e.votes,h=e.courseId,S=e.naptimeSubmission,E=e.naptimeSubmissionSchema,I=e.onReviewSubmit,w,O=t.isGraded&&Object(i.y)(t)?function(){return null}:this.renderFormParts;return s.a.createElement(o.a,{trackingName:"render",className:"rc-SubmittedSubmissionView",trackClicks:!1,requireFullyVisible:!1,data:{submission_id:a.id},withVisibilityTracking:!0},this.renderAdminMessage(),u&&s.a.createElement(d.a,null,f()("The previous submission was successfully flagged. You can review a different submission below.")),s.a.createElement(b.a,{isAdminMode:n,computedItem:t,submission:a,creatorProfile:v,votes:g}),s.a.createElement(p.a,{submission:S,submissionSchema:E,renderInlineNode:O}),!this.showDisplayPartsOnly()&&s.a.createElement(m.a,{disabled:this.isFormDisabled(),errorType:r.errorType||"none",reviewEditable:"submitted"!==r.submitState,onSubmit:I}),null!=a.id&&!c&&s.a.createElement(l.a,{computedItem:t,courseId:h,submissionId:a.id}))},PeerPublicSubmissionView}(s.a.Component);e.a=S},w6u1:function(module,exports,e){},ya0v:function(module,exports,e){var t=e("w6u1"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)},zn7j:function(module,exports,e){var t=e("WdxC"),a;"string"==typeof t&&(t=[[module.i,t,""]]);var r={transform:void 0},i=e("aET+")(t,r);t.locals&&(module.exports=t.locals)}}]);
//# sourceMappingURL=32.8c5c25fea5d4ec81a948.js.map